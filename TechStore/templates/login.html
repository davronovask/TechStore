<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Вход — DvrnTechStore</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      color: #fff;
      min-height: 100vh;
    }
    .gradient-text {
      background: linear-gradient(45deg, #ff3b3b, #ff6b6b, #ff3b3b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    input:focus {
      outline: none;
      border-color: #ff3b3b;
      box-shadow: 0 0 8px #ff3b3b;
    }
    button {
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #e02e2e;
    }
    .password-wrapper {
      position: relative;
    }
    .toggle-password {
      position: absolute;
      top: 50%;
      right: 12px;
      transform: translateY(-50%);
      cursor: pointer;
      color: #aaa;
      transition: color 0.3s ease;
    }
    .toggle-password:hover {
      color: #ff3b3b;
    }
  </style>
</head>
<body>
  <header class="fixed top-0 w-full bg-black bg-opacity-90 z-50 shadow-md">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center">
          <span class="text-white font-bold text-xl">D</span>
        </div>
        <h1 class="text-2xl font-bold gradient-text">DvrnTechStore</h1>
      </div>
      <nav class="hidden md:flex space-x-6 text-white">
        <a href="{% url 'home' %}" class="hover:text-red-500">Главная</a>
        <a href="#" class="hover:text-red-500">Каталог</a>
        <a href="{% url 'register' %}" class="hover:text-red-500">Регистрация</a>
      </nav>
    </div>
  </header>

  <main class="flex items-center justify-center min-h-screen pt-20 px-4">
    <section class="bg-gray-900 rounded-xl shadow-lg max-w-md w-full p-8">
      <h2 class="text-3xl font-bold mb-6 text-center gradient-text">Вход</h2>

      {% if error %}
        <p class="text-red-800 bg-gray-300 text-center font-semibold mb-4 rounded-lg p-2 shadow">{{ error }}</p>
      {% endif %}

      <form method="post" class="space-y-6">
        {% csrf_token %}

        <div>
          <label for="nickname" class="block mb-2 font-semibold">Никнейм</label>
          <input type="text" id="nickname" name="nickname" required placeholder="Введите никнейм" class="w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-400"/>
        </div>

        <div class="password-wrapper">
          <label for="password" class="block mb-2 font-semibold">Пароль</label>
          <input type="password" id="password" name="password" required minlength="6" placeholder="Введите пароль" class="w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-400"/>
          <span class="toggle-password" data-target="password" title="Показать/скрыть пароль">
            <i class="fa-solid fa-eye"></i>
          </span>
        </div>

        <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg">Войти</button>
      </form>

      <p class="mt-6 text-center text-gray-400">
        Нет аккаунта?
        <a href="{% url 'register' %}" class="text-red-500 hover:underline">Зарегистрироваться</a>
      </p>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.toggle-password').forEach(toggle => {
        toggle.addEventListener('click', () => {
          const targetId = toggle.getAttribute('data-target');
          const input = document.getElementById(targetId);
          if (input.type === 'password') {
            input.type = 'text';
            toggle.innerHTML = '<i class="fa-solid fa-eye-slash"></i>';
          } else {
            input.type = 'password';
            toggle.innerHTML = '<i class="fa-solid fa-eye"></i>';
          }
        });
      });
    });
  </script>
</body>
</html>
